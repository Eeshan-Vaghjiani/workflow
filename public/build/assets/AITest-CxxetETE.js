import{r as i,j as e,$ as g,a as j}from"./app-Cz-XC9l4.js";import{A as b}from"./app-layout-DBbC1wJO.js";import{C as h}from"./card-3d-xMNzOEQV.js";import{G as y}from"./glass-container-qPlEyThK.js";import{E as f}from"./enhanced-button-eDxsqJ_V.js";import{c as N,i as o}from"./theme-constants-DVo_7dxB.js";import{m as s}from"./proxy-DUnCzY_P.js";import{R as l}from"./rotate-ccw-B7GikKfT.js";import{C as k}from"./circle-check-big-gIZ6yXgA.js";import{C as v}from"./circle-x-DODQmTpc.js";import{C as w}from"./circle-alert-DaK2Z9wZ.js";import"./app-sidebar-layout-BnpPf58W.js";import"./index-MaZke14b.js";import"./index-BUtF6_nR.js";import"./button-Diu-54fO.js";import"./utils-CBfrqCZ4.js";import"./input-gyYvXWbp.js";import"./dropdown-menu-CMVoGVyb.js";import"./index-B_RcF4Vj.js";import"./index-BlXtbhPC.js";import"./index-BtsonFn7.js";import"./avatar-DLZPR9xF.js";import"./index-CmyQNJFQ.js";import"./createLucideIcon-CfQhLZuM.js";import"./use-animation-CJs_orTr.js";import"./use-animation-CBeboh00.js";import"./chevron-right-BnGLYIXb.js";import"./users-Da4X3jqK.js";import"./square-check-big-Dvy61Sch.js";import"./calendar-Cz-eKFtz.js";import"./credit-card-CsbvY-q-.js";import"./user-ILuj1RD-.js";import"./use-appearance-rE9bUEXS.js";import"./sun-C2hnd78D.js";import"./settings-DpzlEckF.js";import"./index-B0-ktvjH.js";function oe(){const[n,d]=i.useState(!1),[r,c]=i.useState(null),[m,x]=i.useState(null),u=[{title:"AI Test",href:"/ai-test"}],p=async()=>{d(!0),x(null);try{const t=await j.get("/api/test-openrouter-connection");c(t.data),console.log("API test response:",t.data)}catch(t){console.error("API test error:",t);const a=t;c({success:!1,error:a.response?.data?.error||a.message||"Unknown error"}),a.response?.data?.details&&x(JSON.stringify(a.response.data.details,null,2))}finally{d(!1)}};return i.useEffect(()=>{p()},[]),e.jsxs(b,{breadcrumbs:u,children:[e.jsx(g,{title:"AI Test"}),e.jsx(s.div,{className:"flex h-full flex-1 flex-col gap-6 p-6",variants:N,initial:"hidden",animate:"visible",children:e.jsxs(s.div,{className:"max-w-4xl mx-auto w-full",variants:o,children:[e.jsxs(h,{className:"p-6 mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2 text-gray-900 dark:text-white",children:"OpenRouter AI API Test"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"This page tests the connection with the OpenRouter API and helps troubleshoot any issues."})]}),e.jsx(s.div,{variants:o,children:e.jsxs(y,{className:"p-6 mb-6",blurIntensity:"sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"API Connection Status"}),e.jsx(f,{variant:"outline",size:"sm",magnetic:!0,onClick:p,disabled:n,icon:n?e.jsx(l,{className:"h-4 w-4 animate-spin"}):e.jsx(l,{className:"h-4 w-4"}),iconPosition:"left",children:"Test Connection"})]}),n?e.jsxs(s.div,{className:"flex items-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-md",initial:{opacity:0},animate:{opacity:1},children:[e.jsx("div",{className:"animate-spin mr-3",children:e.jsx(l,{className:"h-5 w-5 text-blue-500 dark:text-blue-400"})}),e.jsx("p",{className:"text-blue-800 dark:text-blue-300",children:"Testing OpenRouter API connection..."})]}):r?r.success?e.jsxs(s.div,{className:"p-4 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 rounded-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"API connection successful!"})]}),e.jsx("p",{className:"mt-2",children:r.message}),r.response&&e.jsx("div",{className:"mt-2 p-2 bg-white dark:bg-black/20 rounded border border-green-200 dark:border-green-900",children:e.jsx("p",{className:"font-mono text-sm",children:r.response})})]}):e.jsxs(s.div,{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200 rounded-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"API connection failed!"})]}),e.jsx("p",{className:"mt-1",children:r.error}),m&&e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"cursor-pointer font-medium",children:"Error details"}),e.jsx("pre",{className:"mt-2 p-2 bg-white dark:bg-black/20 rounded border border-red-200 dark:border-red-900 overflow-auto text-xs font-mono",children:m})]})]}):null]})}),e.jsx(s.div,{variants:o,children:e.jsxs(h,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Troubleshooting Steps"}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-4",children:[e.jsx("p",{children:"If you're experiencing issues with OpenRouter API, follow these troubleshooting steps:"}),e.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-md",children:[e.jsxs("h3",{className:"flex items-center text-amber-800 dark:text-amber-200 font-medium",children:[e.jsx(w,{className:"h-4 w-4 mr-1"}),"Common Issues:"]}),e.jsxs("ul",{className:"list-disc pl-5 mt-2 text-amber-700 dark:text-amber-300",children:[e.jsx("li",{children:"Missing or invalid OpenRouter API key"}),e.jsx("li",{children:"Expired API key"}),e.jsx("li",{children:"Rate limiting on OpenRouter's side"}),e.jsx("li",{children:"Network connectivity issues"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium text-gray-900 dark:text-white",children:"How to fix:"}),e.jsxs("ol",{className:"list-decimal pl-5 mt-2 space-y-1 text-gray-600 dark:text-gray-300",children:[e.jsxs("li",{children:["Run ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"php artisan openrouter:check"})," in your terminal"]}),e.jsxs("li",{children:["Run ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"php artisan openrouter:check --fix"})," to update your API key"]}),e.jsxs("li",{children:["Get a new API key from ",e.jsx("a",{href:"https://openrouter.ai",className:"text-primary-600 dark:text-primary-400 underline",target:"_blank",rel:"noopener",children:"OpenRouter.ai"})]}),e.jsxs("li",{children:["Add the key to your ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:".env"})," file as ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"OPENROUTER_API_KEY=your_key_here"})]}),e.jsxs("li",{children:["Run ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"php artisan config:clear"})," to update your application"]})]})]})]})]})})]})})]})}export{oe as default};
