import{r as m,v as b,j as e,$ as j,Y as y}from"./app-EFdNlzF1.js";import{A as v}from"./app-layout-0nbQuyMj.js";import{B as c}from"./button-CasVOQbR.js";import"./app-sidebar-layout-2N2f9zf2.js";import"./index-DZoa35Y7.js";import"./index-c1zC8zW2.js";import"./utils-CBfrqCZ4.js";import"./input-Bk2B3GPX.js";import"./dropdown-menu-Be5dVAII.js";import"./index-W8SXwZza.js";import"./index-z8h15STC.js";import"./index-CXYmmwmY.js";import"./avatar-DTxGSWKN.js";import"./index-B4gP1Yw4.js";import"./createLucideIcon-Ci57Z1nb.js";import"./use-animation-WpyryXH0.js";import"./use-animation-BzGI8ib-.js";import"./proxy-CbQpuZ5T.js";import"./chevron-right-BAVANYz7.js";import"./users-BhyyQbJ9.js";import"./square-check-big-DO1D6uu6.js";import"./calendar-BAuuk18F.js";import"./credit-card-BbHoo0vm.js";import"./user-C97Zk_aQ.js";import"./use-appearance-B35erkEd.js";import"./sun-Dv7cDcCR.js";import"./settings-hZB-BaSU.js";import"./glass-container-DKPWOAO6.js";import"./index-B8-Zcyzl.js";const N=[{title:"Tasks",href:"/group-tasks"},{title:"Create",href:"/group-tasks/create"}];function X({assignments:d,selectedAssignmentId:u,errors:r}){const o=new Date().toISOString().split("T")[0],[x,l]=m.useState(o),{data:s,setData:a,post:p,processing:g}=b({title:"",description:"",end_date:o,assignment_id:u?.toString()||"",effort_hours:"1",importance:"3",priority:"medium"}),i=d.find(t=>t.id.toString()===s.assignment_id);m.useEffect(()=>{if(i&&i.due_date)l(i.due_date),s.end_date>i.due_date&&a("end_date",i.due_date);else{const t=new Date;t.setMonth(t.getMonth()+1),l(t.toISOString().split("T")[0])}},[s.assignment_id]);function h(t){if(t.preventDefault(),s.assignment_id){const n=d.find(f=>f.id.toString()===s.assignment_id);n?p(route("group-tasks.store",{group:n.group.id,assignment:n.id})):alert("Please select a valid assignment")}else alert("Please select an assignment")}return e.jsxs(v,{breadcrumbs:N,children:[e.jsx(j,{title:"Create Task"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Create Task"}),e.jsx("p",{className:"text-gray-500",children:"Create a new task for an assignment"})]}),d.length>0?e.jsx("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl border border-neutral-200 dark:border-neutral-700",children:e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Task Title"}),e.jsx("input",{type:"text",id:"title",className:`w-full px-3 py-2 border rounded-md shadow-sm focus:ring focus:ring-opacity-50 ${r.title?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-200 focus:border-blue-500"}`,value:s.title,onChange:t=>a("title",t.target.value),required:!0}),r.title&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.title})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),e.jsx("textarea",{id:"description",rows:4,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:ring focus:ring-opacity-50 ${r.description?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-200 focus:border-blue-500"}`,value:s.description,onChange:t=>a("description",t.target.value)}),r.description&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.description})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"assignment_id",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Assignment"}),e.jsxs("select",{id:"assignment_id",className:`w-full px-3 py-2 border rounded-md shadow-sm focus:ring focus:ring-opacity-50 ${r.assignment_id?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-200 focus:border-blue-500"}`,value:s.assignment_id,onChange:t=>a("assignment_id",t.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select an assignment"}),d.map(t=>e.jsxs("option",{value:t.id.toString(),children:[t.title," (Due: ",t.due_date,")"]},t.id))]}),r.assignment_id&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.assignment_id}),i&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Assignment due date: ",i.due_date]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"end_date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Due Date"}),e.jsx("input",{type:"date",id:"end_date",className:`w-full px-3 py-2 border rounded-md shadow-sm focus:ring focus:ring-opacity-50 ${r.end_date?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-200 focus:border-blue-500"}`,value:s.end_date,onChange:t=>a("end_date",t.target.value),min:o,max:x,required:!0}),r.end_date&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.end_date}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be between today and the assignment due date"})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"effort_hours",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Effort (hours)"}),e.jsx("input",{type:"number",id:"effort_hours",min:"1",max:"100",className:`w-full px-3 py-2 border rounded-md shadow-sm focus:ring focus:ring-opacity-50 ${r.effort_hours?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-200 focus:border-blue-500"}`,value:s.effort_hours,onChange:t=>a("effort_hours",t.target.value)}),r.effort_hours&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.effort_hours}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Estimated hours to complete"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"importance",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Importance"}),e.jsxs("select",{id:"importance",className:`w-full px-3 py-2 border rounded-md shadow-sm focus:ring focus:ring-opacity-50 ${r.importance?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-200 focus:border-blue-500"}`,value:s.importance,onChange:t=>a("importance",t.target.value),children:[e.jsx("option",{value:"1",children:"1 (Lowest)"}),e.jsx("option",{value:"2",children:"2"}),e.jsx("option",{value:"3",children:"3 (Medium)"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5 (Highest)"})]}),r.importance&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.importance}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Task importance level"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Priority"}),e.jsxs("select",{id:"priority",className:`w-full px-3 py-2 border rounded-md shadow-sm focus:ring focus:ring-opacity-50 ${r.priority?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-200 focus:border-blue-500"}`,value:s.priority,onChange:t=>a("priority",t.target.value),children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]}),r.priority&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.priority}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Task urgency level"})]})]}),e.jsxs("div",{className:"flex justify-end",children:[i&&e.jsx(y,{href:route("group-assignments.index",{group:i.group.id}),children:e.jsx(c,{variant:"outline",className:"mr-2",children:"Cancel"})}),e.jsx(c,{type:"submit",disabled:g,children:"Create Task"})]})]})}):e.jsx("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl border border-neutral-200 dark:border-neutral-700 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No assignments available. Please create an assignment first."})})]})]})}export{X as default};
