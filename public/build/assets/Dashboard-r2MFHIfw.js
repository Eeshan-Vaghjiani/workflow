import{r as I,j as e,$ as _,Y as C}from"./app-Cz-XC9l4.js";import{A as P}from"./app-layout-DBbC1wJO.js";import{C as j,a as g,b as f,c as i}from"./card-tSD26EUH.js";import{T as D,a as T,b as y,c as v}from"./tabs-DEpUcAvz.js";import{B as o}from"./badge-DxpFCqhw.js";import{C as $}from"./card-3d-xMNzOEQV.js";import{G as n}from"./glass-container-qPlEyThK.js";import{E as b}from"./enhanced-button-eDxsqJ_V.js";import{c,i as t}from"./theme-constants-DVo_7dxB.js";import{P as R}from"./PromptCounter-BFC3y5jN.js";import{m as r}from"./proxy-DUnCzY_P.js";import{L as S}from"./lightbulb-DQbPLCGh.js";import{S as A}from"./app-sidebar-layout-BnpPf58W.js";import{f as N}from"./formatDistanceToNow-DzYsKnCe.js";import{f as E}from"./format-C2sziSDG.js";import{p as G}from"./parseISO-Dmh2dHml.js";import"./index-B0-ktvjH.js";import"./utils-CBfrqCZ4.js";import"./index-MaZke14b.js";import"./index-BUtF6_nR.js";import"./dropdown-menu-CMVoGVyb.js";import"./index-B_RcF4Vj.js";import"./index-BlXtbhPC.js";import"./index-BtsonFn7.js";import"./avatar-DLZPR9xF.js";import"./index-CmyQNJFQ.js";import"./use-animation-CJs_orTr.js";import"./progress-1_i0ocS1.js";import"./createLucideIcon-CfQhLZuM.js";import"./button-Diu-54fO.js";import"./input-gyYvXWbp.js";import"./use-animation-CBeboh00.js";import"./chevron-right-BnGLYIXb.js";import"./users-Da4X3jqK.js";import"./square-check-big-Dvy61Sch.js";import"./calendar-Cz-eKFtz.js";import"./credit-card-CsbvY-q-.js";import"./user-ILuj1RD-.js";import"./use-appearance-rE9bUEXS.js";import"./sun-C2hnd78D.js";import"./settings-DpzlEckF.js";import"./en-US-CT0ADQGI.js";import"./endOfMonth-D0QkFyMS.js";import"./endOfDay-yqR91pFr.js";const V=a=>{try{return E(G(a),"dd/MM/yyyy")}catch{return a}};function Pe({aiAssignments:a,aiPrompts:x,auth:d}){const[m,k]=I.useState(null),w=[{title:"AI Tasks Dashboard",href:"/ai-tasks"}],p=d.user.ai_prompts_remaining,h=d.user.total_prompts_purchased,u=d.user.is_paid_user;return e.jsxs(P,{breadcrumbs:w,children:[e.jsx(_,{title:"AI Tasks Dashboard"}),e.jsx(r.div,{className:"flex h-full flex-1 flex-col gap-6 p-6",variants:c,initial:"hidden",animate:"visible",children:e.jsx(r.div,{variants:t,children:e.jsxs($,{className:"p-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900 dark:text-white",children:"AI Tasks Dashboard"}),e.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2 mb-2",children:[e.jsx(S,{className:"h-5 w-5 text-primary"}),e.jsx("span",{children:"AI Prompts Usage"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4",children:u?`You have purchased ${h} AI prompts and have ${p} remaining.`:"You are using the trial version with limited AI prompts."})]}),e.jsxs("div",{className:"w-full md:w-64",children:[e.jsx(R,{promptsRemaining:p,totalPurchased:h,isPaidUser:u}),e.jsxs(C,{href:"/pricing",className:"flex items-center justify-center w-full mt-2 py-2 px-3 text-sm bg-primary hover:bg-primary/90 text-white rounded-md transition-colors",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Buy More AI Prompts"]})]})]})}),e.jsxs(D,{defaultValue:"assignments",children:[e.jsxs(T,{className:"mb-6",children:[e.jsx(y,{value:"assignments",children:"AI Generated Assignments"}),e.jsx(y,{value:"prompts",children:"AI Prompts History"})]}),e.jsx(v,{value:"assignments",children:e.jsx(r.div,{className:"grid gap-6",variants:c,children:a.length>0?a.map((s,l)=>e.jsx(r.div,{variants:t,custom:l,children:e.jsxs(n,{blurIntensity:"sm",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(g,{className:"text-gray-900 dark:text-white",children:s.assignment.title}),e.jsxs(f,{className:"text-gray-600 dark:text-gray-300",children:["Group: ",s.group.name," | Created by: ",s.creator.name," |",N(new Date(s.created_at),{addSuffix:!0})]})]}),e.jsx(o,{variant:"outline",children:s.model_used})]})}),e.jsxs(i,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Original Prompt:"}),e.jsx("p",{className:"mt-1 text-sm text-gray-800 dark:text-gray-200",children:s.original_prompt})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400",children:e.jsxs("span",{children:["Due: ",V(s.assignment.due_date)]})})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(b,{variant:"outline",size:"sm",magnetic:!0,onClick:()=>window.location.href=`/groups/${s.group.id}/assignments/${s.assignment.id}`,children:"View Assignment"})})]})]})},s.id)):e.jsx(r.div,{variants:t,children:e.jsx(n,{blurIntensity:"sm",children:e.jsx(i,{className:"py-6",children:e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"No AI-generated assignments found."})})})})})}),e.jsx(v,{value:"prompts",children:e.jsx(r.div,{className:"grid gap-6",variants:c,children:x.length>0?x.map((s,l)=>e.jsx(r.div,{variants:t,custom:l,children:e.jsxs(n,{blurIntensity:"sm",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(g,{className:"text-lg text-gray-900 dark:text-white",children:s.prompt.length>60?s.prompt.substring(0,60)+"...":s.prompt}),e.jsxs(f,{className:"text-gray-600 dark:text-gray-300",children:["User: ",s.user.name," |",s.group?` Group: ${s.group.name} |`:"",N(new Date(s.created_at),{addSuffix:!0}),s.metadata?.response_time_ms?` | Response time: ${s.metadata.response_time_ms}ms`:""]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{variant:s.success?"default":"destructive",children:s.success?"Success":"Failed"}),e.jsx(o,{variant:"outline",children:s.model_used})]})]})}),e.jsxs(i,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Prompt:"}),e.jsx("p",{className:"mt-1 text-sm text-gray-800 dark:text-gray-200",children:s.prompt})]}),m===s.id&&e.jsxs(r.div,{className:"mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Response:"}),e.jsx("pre",{className:"mt-1 text-xs p-4 bg-gray-50 dark:bg-gray-800 rounded overflow-auto max-h-60 text-gray-800 dark:text-gray-200",children:s.response})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(b,{variant:"outline",size:"sm",magnetic:!0,onClick:()=>k(m===s.id?null:s.id),children:m===s.id?"Hide Response":"View Response"})})]})]})},s.id)):e.jsx(r.div,{variants:t,children:e.jsx(n,{blurIntensity:"sm",children:e.jsx(i,{className:"py-6",children:e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"No AI prompts history found."})})})})})})]})]})})})]})}export{Pe as default};
