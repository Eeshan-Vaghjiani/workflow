import{r as o,j as e,$ as v,Y as _,m as y}from"./app-Cz-XC9l4.js";import{A as C}from"./admin-layout-CXWzcWrg.js";import{B as p}from"./button-Diu-54fO.js";import{e as u,C as j,a as f,c as N}from"./card-tSD26EUH.js";import{I as x}from"./input-gyYvXWbp.js";import{T as w}from"./textarea-_X4jAbSH.js";import{A}from"./arrow-left-DOU4YIXA.js";import{C as S}from"./calendar-Cz-eKFtz.js";import{S as E}from"./save-DBkyY3jN.js";import{f as k}from"./format-C2sziSDG.js";import"./proxy-DUnCzY_P.js";import"./createLucideIcon-CfQhLZuM.js";import"./users-Da4X3jqK.js";import"./shield-BfMvo9My.js";import"./file-text-BrTovKwn.js";import"./search-CSzBP2dH.js";import"./user-ILuj1RD-.js";import"./chevron-down-C-4IPUEA.js";import"./index-B0-ktvjH.js";import"./settings-DpzlEckF.js";import"./use-appearance-rE9bUEXS.js";import"./utils-CBfrqCZ4.js";import"./en-US-CT0ADQGI.js";const Z=({assignment:t})=>{const[i,g]=o.useState({title:t.title,description:t.description||"",due_date:t.due_date?k(new Date(t.due_date),"yyyy-MM-dd"):"",unit_name:t.unit_name||""}),[s,m]=o.useState({}),[h,r]=o.useState(!1),d=l=>{const{name:a,value:n}=l.target;g(c=>({...c,[a]:n})),s[a]&&m(c=>({...c,[a]:""}))},b=l=>{l.preventDefault(),r(!0);const a={};if(i.title.trim()||(a.title="Title is required"),Object.keys(a).length>0){m(a),r(!1);return}y.put(route("admin.assignments.update",t.id),i,{onSuccess:()=>{},onError:n=>{m(n),r(!1)},onFinish:()=>{r(!1)}})};return e.jsxs(C,{children:[e.jsx(v,{title:`Edit Assignment: ${t.title}`}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{href:route("admin.assignments.show",t.id),children:e.jsx(p,{variant:"outline",size:"icon",children:e.jsx(A,{className:"h-4 w-4"})})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Edit Assignment"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(u,{className:"md:col-span-2",children:[e.jsx(j,{children:e.jsx(f,{children:"Assignment Details"})}),e.jsx(N,{children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium mb-1",children:"Title"}),e.jsx(x,{id:"title",name:"title",value:i.title,onChange:d,className:s.title?"border-red-500":""}),s.title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.title})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium mb-1",children:"Description"}),e.jsx(w,{id:"description",name:"description",value:i.description,onChange:d,rows:5,className:s.description?"border-red-500":""}),s.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"due_date",className:"block text-sm font-medium mb-1",children:"Due Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{id:"due_date",name:"due_date",type:"date",value:i.due_date,onChange:d,className:s.due_date?"border-red-500":""}),e.jsx(S,{className:"absolute right-3 top-2.5 h-4 w-4 text-gray-400"})]}),s.due_date&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.due_date})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"unit_name",className:"block text-sm font-medium mb-1",children:"Unit Name"}),e.jsx(x,{id:"unit_name",name:"unit_name",value:i.unit_name,onChange:d,className:s.unit_name?"border-red-500":""}),s.unit_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.unit_name})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(p,{type:"submit",className:"flex items-center gap-2",disabled:h,children:[e.jsx(E,{className:"h-4 w-4"}),h?"Saving...":"Save Changes"]})})]})})]}),e.jsxs(u,{children:[e.jsx(j,{children:e.jsx(f,{children:"Assignment Info"})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Group"}),e.jsx("p",{className:"font-medium",children:t.group?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Created By"}),e.jsx("p",{className:"font-medium",children:t.created_by?.name||"N/A"})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Note: Editing this assignment will not affect the associated tasks. Tasks can be managed from the assignment view page."})})]})]})]})]})]})};export{Z as default};
