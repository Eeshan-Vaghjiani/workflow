import{r as f,j as e,$ as v,a as d,Y as t}from"./app-EFdNlzF1.js";import{A as _}from"./app-layout-0nbQuyMj.js";import{C as w}from"./card-3d-Bo48T8xr.js";import{G as b}from"./glass-container-DKPWOAO6.js";import{E as o}from"./enhanced-button-Cpx_gIDB.js";import{c,i as l}from"./theme-constants-DVo_7dxB.js";import{m as i}from"./proxy-CbQpuZ5T.js";import{B as x}from"./user-C97Zk_aQ.js";import{C as p}from"./circle-check-big-Zn6OYsr0.js";import{U as h}from"./users-BhyyQbJ9.js";import{c as A}from"./createLucideIcon-Ci57Z1nb.js";import{C as u}from"./calendar-BAuuk18F.js";import"./app-sidebar-layout-2N2f9zf2.js";import"./index-DZoa35Y7.js";import"./index-c1zC8zW2.js";import"./button-CasVOQbR.js";import"./utils-CBfrqCZ4.js";import"./input-Bk2B3GPX.js";import"./dropdown-menu-Be5dVAII.js";import"./index-W8SXwZza.js";import"./index-z8h15STC.js";import"./index-CXYmmwmY.js";import"./avatar-DTxGSWKN.js";import"./index-B4gP1Yw4.js";import"./use-animation-WpyryXH0.js";import"./use-animation-BzGI8ib-.js";import"./chevron-right-BAVANYz7.js";import"./square-check-big-DO1D6uu6.js";import"./credit-card-BbHoo0vm.js";import"./use-appearance-B35erkEd.js";import"./sun-Dv7cDcCR.js";import"./settings-hZB-BaSU.js";import"./index-B8-Zcyzl.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],C=A("MessageSquare",V),q=[{title:"Dashboard",href:"/dashboard"},{title:"Notifications",href:"/notifications"}];function oe({notifications:g}){const[n,m]=f.useState(g),j=async a=>{try{await d.post(route("notifications.mark-as-read",a)),m(s=>s.map(r=>r.id===a?{...r,read:!0}:r))}catch(s){console.error("Error marking notification as read:",s)}},y=async()=>{try{await d.post(route("notifications.mark-all-as-read")),m(a=>a.map(s=>({...s,read:!0})))}catch(a){console.error("Error marking all notifications as read:",a)}},N=a=>{switch(a){case"group_invitation":return e.jsx(h,{className:"h-6 w-6 text-primary-500 dark:text-neon-blue"});case"assignment_due":return e.jsx(u,{className:"h-6 w-6 text-red-500 dark:text-red-400"});case"assignment_created":return e.jsx(u,{className:"h-6 w-6 text-green-500 dark:text-neon-green"});case"direct_message":case"group_message":return e.jsx(C,{className:"h-6 w-6 text-purple-500 dark:text-purple-400"});case"task_assignment":case"deadline_reminder":return e.jsx(p,{className:"h-6 w-6 text-yellow-500 dark:text-yellow-400"});case"group_join_request":case"group_join_approved":return e.jsx(h,{className:"h-6 w-6 text-indigo-500 dark:text-indigo-400"});default:return e.jsx(x,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})}},k=a=>{const{type:s,data:r}=a;switch(s){case"group_invitation":return e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Group Invitation"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:r.inviter_name})," invited you to join the group ",e.jsx("span",{className:"font-medium",children:r.group_name})]}),e.jsx("div",{className:"mt-2",children:e.jsx(t,{href:route("groups.show",r.group_id),className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"View Group"})})]});case"assignment_due":return e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Assignment Due Soon"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Assignment ",e.jsx("span",{className:"font-medium",children:r.assignment_title})," in group ",e.jsx("span",{className:"font-medium",children:r.group_name})," is due on ",e.jsx("span",{className:"font-medium",children:new Date(r.due_date).toLocaleDateString()})]}),e.jsx("div",{className:"mt-2",children:e.jsx(t,{href:route("group-assignments.show",{group:r.group_id,assignment:r.assignment_id}),className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"View Assignment"})})]});case"assignment_created":return e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"New Assignment"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:r.creator_name})," created a new assignment ",e.jsx("span",{className:"font-medium",children:r.assignment_title})," in group ",e.jsx("span",{className:"font-medium",children:r.group_name})]}),e.jsx("div",{className:"mt-2",children:e.jsx(t,{href:route("group-assignments.show",{group:r.group_id,assignment:r.assignment_id}),className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"View Assignment"})})]});case"direct_message":return e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"New Direct Message"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:r.sender_name})," sent you a message: ",e.jsx("span",{className:"font-medium",children:r.content})]}),e.jsx("div",{className:"mt-2",children:e.jsx(t,{href:route("chat.direct",r.sender_id),className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"View Message"})})]});case"group_message":return e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"New Group Message"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:r.sender_name})," sent a message in ",e.jsx("span",{className:"font-medium",children:r.group_name}),": ",e.jsx("span",{className:"font-medium",children:r.content})]}),e.jsx("div",{className:"mt-2",children:e.jsx(t,{href:route("chat.group",r.group_id),className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"View Message"})})]});case"task_assignment":return e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"New Task Assignment"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:r.assigner_name})," assigned you a task ",e.jsx("span",{className:"font-medium",children:r.task_title})," in ",e.jsx("span",{className:"font-medium",children:r.group_name})]}),e.jsx("div",{className:"mt-2",children:e.jsx(t,{href:route("group-tasks.show",{group:r.group_id,task:r.task_id}),className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"View Task"})})]});case"deadline_reminder":return e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Task Deadline Reminder"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Task ",e.jsx("span",{className:"font-medium",children:r.task_title})," in ",e.jsx("span",{className:"font-medium",children:r.group_name})," is due soon"]}),e.jsx("div",{className:"mt-2",children:e.jsx(t,{href:route("group-tasks.show",{group:r.group_id,task:r.task_id}),className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"View Task"})})]});case"group_join_request":return e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Group Join Request"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:r.requester_name})," requested to join ",e.jsx("span",{className:"font-medium",children:r.group_name})]}),e.jsx("div",{className:"mt-2",children:e.jsx(t,{href:route("groups.members.index",r.group_id),className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"View Request"})})]});case"group_join_approved":return e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Join Request Approved"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Your request to join ",e.jsx("span",{className:"font-medium",children:r.group_name})," was approved by ",e.jsx("span",{className:"font-medium",children:r.approver_name})]}),e.jsx("div",{className:"mt-2",children:e.jsx(t,{href:route("groups.show",r.group_id),className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"View Group"})})]});default:return e.jsx("p",{children:"Unknown notification type"})}};return e.jsxs(_,{breadcrumbs:q,children:[e.jsx(v,{title:"Notifications"}),e.jsx(i.div,{className:"flex h-full flex-1 flex-col gap-6 p-6",variants:c,initial:"hidden",animate:"visible",children:e.jsx(i.div,{variants:l,children:e.jsxs(w,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Notifications"}),n.some(a=>!a.read)&&e.jsx(o,{onClick:y,variant:"outline",size:"sm",magnetic:!0,children:"Mark All as Read"})]}),n.length===0?e.jsxs(i.div,{className:"text-center py-12",animate:{scale:[1,1.05,1],transition:{duration:3,repeat:1/0}},children:[e.jsx(x,{className:"mx-auto h-14 w-14 text-gray-400 dark:text-gray-600 mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No notifications yet"})]}):e.jsx(i.div,{className:"space-y-5",variants:c,children:n.map((a,s)=>e.jsx(i.div,{variants:l,custom:s,children:e.jsx(b,{className:`p-4 ${a.read?"":"border-l-4 border-l-primary-500 dark:border-l-neon-blue"}`,blurIntensity:a.read?"sm":"md",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 p-2 rounded-full bg-gray-100/80 dark:bg-gray-800/80",children:N(a.type)}),e.jsxs("div",{className:"flex-grow",children:[k(a),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:new Date(a.created_at).toLocaleString()})]}),!a.read&&e.jsx(o,{onClick:()=>j(a.id),variant:"ghost",size:"sm",className:"flex-shrink-0",icon:e.jsx(p,{className:"h-5 w-5"}),children:"Mark Read"})]})})},a.id))})]})})})]})}export{oe as default};
