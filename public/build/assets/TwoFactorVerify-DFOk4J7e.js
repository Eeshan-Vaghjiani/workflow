import{r as n,v as u,j as e,$ as g}from"./app-Bpl7UGUW.js";import{I as f}from"./input-error-BKAUcBzj.js";import{E as l}from"./enhanced-button-CoxoAF_G.js";import{C as j}from"./card-3d-CcLzNSxw.js";import{c as b,d as C}from"./card-CzKFM-Bc.js";import{I as p}from"./input-CQiJ7d6K.js";import{L as v}from"./label-Djyhicxk.js";import{c as m,i as c}from"./theme-constants-DVo_7dxB.js";import{A as k}from"./auth-layout-D8U6-rXW.js";import{m as r}from"./proxy-BZsCD5Dk.js";import"./utils-CBfrqCZ4.js";import"./use-animation-l8PqFNwu.js";import"./index-BO9oOdSc.js";import"./glass-container-CJ4c02pk.js";import"./use-appearance-DBkYCLhm.js";function P(){const[i,y]=n.useState(!1),s=n.useRef(null),d=n.useRef(null),t=u({code:""}),o=u({recovery_code:""});n.useEffect(()=>{s.current&&s.current.focus()},[]);const x=a=>{a.preventDefault(),t.post(route("two-factor.verify"),{onSuccess:()=>{console.log("Verification successful")},onError:()=>{t.reset("code"),s.current&&s.current.focus()}})},h=a=>{a.preventDefault(),o.post(route("two-factor.recovery-code"),{onSuccess:()=>{console.log("Recovery code verification successful")},onError:()=>{o.reset("recovery_code"),d.current&&d.current.focus()}})};return e.jsxs(k,{title:"Two-Factor Verification",description:i?"Please enter one of your recovery codes to verify your identity.":"Please enter the code from your authenticator app to verify your identity.",children:[e.jsx(g,{title:"Two-Factor Verification"}),e.jsx(r.div,{variants:m,initial:"hidden",animate:"visible",className:"w-full",children:e.jsxs(j,{className:"p-6",children:[e.jsx(b,{className:"p-0",children:i?e.jsxs(r.form,{onSubmit:h,variants:m,children:[e.jsxs(r.div,{variants:c,children:[e.jsx(v,{htmlFor:"recovery_code",className:"dark:text-gray-300",children:"Recovery Code"}),e.jsx(p,{id:"recovery_code",type:"text",className:"mt-1 block w-full dark:bg-gray-700/70 dark:text-gray-200 dark:border-gray-600 backdrop-blur-sm transition-all duration-200",value:o.data.recovery_code,onChange:a=>o.setData("recovery_code",a.target.value),autoComplete:"off",ref:d,autoFocus:!0,placeholder:"Enter recovery code"}),e.jsx(f,{message:o.errors.recovery_code,className:"mt-2"})]}),e.jsx(r.div,{className:"mt-6",variants:c,children:e.jsx(l,{type:"submit",className:"w-full",disabled:o.processing,loading:o.processing,variant:"primary",size:"lg",magnetic:!0,children:"Verify"})})]}):e.jsxs(r.form,{onSubmit:x,variants:m,children:[e.jsxs(r.div,{variants:c,children:[e.jsx(v,{htmlFor:"code",className:"dark:text-gray-300",children:"Authentication Code"}),e.jsx(p,{id:"code",type:"text",className:"mt-1 block w-full dark:bg-gray-700/70 dark:text-gray-200 dark:border-gray-600 backdrop-blur-sm transition-all duration-200",value:t.data.code,onChange:a=>t.setData("code",a.target.value),autoComplete:"one-time-code",ref:s,autoFocus:!0,inputMode:"numeric",placeholder:"Enter 6-digit code"}),e.jsx(f,{message:t.errors.code,className:"mt-2"})]}),e.jsx(r.div,{className:"mt-6",variants:c,children:e.jsx(l,{type:"submit",className:"w-full",disabled:t.processing,loading:t.processing,variant:"primary",size:"lg",magnetic:!0,children:"Verify"})})]})}),e.jsx(C,{className:"flex-col p-0 mt-6",children:e.jsx(r.div,{variants:c,children:e.jsx(l,{type:"button",variant:"ghost",size:"sm",onClick:()=>y(!i),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-300",children:i?"Back to authenticator code verification":"Can't access your authenticator app? Use a recovery code"})})})]})})]})}export{P as default};
