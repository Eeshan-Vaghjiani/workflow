import{r as d,v as P,j as e,q as E,$ as _,Y as L}from"./app-Cz-XC9l4.js";import{I as n}from"./input-error-BwqO7Bau.js";import{B as p}from"./button-Diu-54fO.js";import{I as c}from"./input-gyYvXWbp.js";import{L as l}from"./label-TRCAcQVD.js";import{H as A,S as T}from"./layout-JTkgVN3i.js";import{D as R,g as z,a as B,c as M,d as H,e as O}from"./dialog-DfYwz7rS.js";import{C,a as k}from"./card-tSD26EUH.js";import{A as q,a as Y,b as G}from"./avatar-DLZPR9xF.js";import{T as W}from"./textarea-_X4jAbSH.js";import{B as $}from"./badge-DxpFCqhw.js";import{S as V}from"./separator-DeNYCCo5.js";import{G as D}from"./glass-container-qPlEyThK.js";import{A as J}from"./app-layout-DBbC1wJO.js";import{m as g}from"./proxy-DUnCzY_P.js";import{U as S}from"./user-ILuj1RD-.js";import{C as K,M as Q}from"./mail-BahB5Fe2.js";import{c as X}from"./createLucideIcon-CfQhLZuM.js";import{I as Z}from"./info-BW309pX2.js";import{C as F}from"./check-DpDReKzm.js";import{C as ee}from"./calendar-Cz-eKFtz.js";import{z as ae}from"./transition-DECp-BFe.js";import"./utils-CBfrqCZ4.js";import"./with-selector-Bs5_a5KJ.js";import"./index-BUtF6_nR.js";import"./x-J8IMCWLS.js";import"./index-MaZke14b.js";import"./index-BlXtbhPC.js";import"./index-CmyQNJFQ.js";import"./app-sidebar-layout-BnpPf58W.js";import"./dropdown-menu-CMVoGVyb.js";import"./index-B_RcF4Vj.js";import"./index-BtsonFn7.js";import"./use-animation-CJs_orTr.js";import"./use-animation-CBeboh00.js";import"./chevron-right-BnGLYIXb.js";import"./users-Da4X3jqK.js";import"./square-check-big-Dvy61Sch.js";import"./credit-card-CsbvY-q-.js";import"./use-appearance-rE9bUEXS.js";import"./sun-C2hnd78D.js";import"./settings-DpzlEckF.js";import"./index-B0-ktvjH.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],re=X("Upload",se);function te(){const u=d.useRef(null),[j,s]=d.useState(!1),{data:x,setData:y,delete:v,processing:a,reset:i,errors:N,clearErrors:o}=P({password:""}),h=m=>{m.preventDefault(),v(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>f(),onError:()=>u.current?.focus(),onFinish:()=>i()})},f=()=>{s(!1),o(),i()};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(A,{title:"Delete account",description:"Delete your account and all of its resources"}),e.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[e.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[e.jsx("p",{className:"font-medium",children:"Warning"}),e.jsx("p",{className:"text-sm",children:"Please proceed with caution, this cannot be undone."})]}),e.jsxs(R,{open:j,onOpenChange:s,children:[e.jsx(z,{asChild:!0,children:e.jsx(p,{variant:"danger",children:"Delete account"})}),e.jsxs(B,{children:[e.jsx(M,{children:"Are you sure you want to delete your account?"}),e.jsx(H,{children:"Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),e.jsxs("form",{className:"space-y-6",onSubmit:h,children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx(c,{id:"password",type:"password",name:"password",ref:u,value:x.password,onChange:m=>y("password",m.target.value),placeholder:"Password",autoComplete:"current-password"}),e.jsx(n,{message:N.password})]}),e.jsxs(O,{className:"gap-2",children:[e.jsx(p,{variant:"secondary",onClick:f,children:"Cancel"}),e.jsx(p,{variant:"danger",disabled:a,type:"submit",children:"Delete account"})]})]})]})]})]})]})}const ie=[{title:"Profile settings",href:"/settings/profile"}];function Je({mustVerifyEmail:u,status:j}){const{auth:s}=E().props,x=d.useRef(null),[y,v]=d.useState(null),{data:a,setData:i,patch:N,errors:o,processing:h,recentlySuccessful:f}=P({name:s.user.name,email:s.user.email,bio:s.user.bio||"",phone:s.user.phone||"",location:s.user.location||"",website:s.user.website||"",avatar:null}),m=r=>{r.preventDefault();const t=new FormData;t.append("name",a.name),t.append("email",a.email),a.bio&&t.append("bio",a.bio),a.phone&&t.append("phone",a.phone),a.location&&t.append("location",a.location),a.website&&t.append("website",a.website),a.avatar&&t.append("avatar",a.avatar),N(route("profile.update"),{preserveScroll:!0,data:t})},I=r=>{const t=r.target.files?.[0];if(t){i("avatar",t);const w=new FileReader;w.onload=U=>{v(U.target?.result)},w.readAsDataURL(t)}},b=()=>{x.current?.click()};return e.jsxs(J,{breadcrumbs:ie,children:[e.jsx(_,{title:"Profile settings"}),e.jsx(T,{children:e.jsxs(g.div,{className:"space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx(A,{title:"Profile information",description:"Update your account's profile information and email address"}),e.jsxs(D,{className:"p-6",children:[e.jsx(C,{className:"px-0 pb-6",children:e.jsxs(k,{className:"flex items-center gap-2 text-lg",children:[e.jsx(S,{className:"h-5 w-5"}),"Personal Information"]})}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(q,{className:"h-24 w-24",children:[e.jsx(Y,{src:y||s.user.avatar,alt:s.user.name}),e.jsx(G,{className:"text-2xl",children:s.user.name.charAt(0).toUpperCase()})]}),e.jsx("button",{type:"button",onClick:b,className:"absolute -bottom-2 -right-2 p-2 bg-primary text-white rounded-full hover:bg-primary/90 transition-colors shadow-lg",children:e.jsx(K,{className:"h-4 w-4"})}),e.jsx("input",{type:"file",ref:x,onChange:I,accept:"image/*",className:"hidden"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Profile Photo"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Upload a new avatar. Recommended size: 400x400px or larger."}),e.jsxs(p,{type:"button",variant:"outline",size:"sm",onClick:b,className:"mt-3",children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"Choose File"]})]})]}),e.jsx(V,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",className:"text-sm font-medium",children:"Full Name *"}),e.jsx(c,{id:"name",value:a.name,onChange:r=>i("name",r.target.value),required:!0,autoComplete:"name",placeholder:"Enter your full name",className:"transition-all duration-200 focus:ring-2 focus:ring-primary/20"}),e.jsx(n,{message:o.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",className:"text-sm font-medium",children:"Email Address *"}),e.jsx(c,{id:"email",type:"email",value:a.email,onChange:r=>i("email",r.target.value),required:!0,autoComplete:"username",placeholder:"Enter your email address",className:"transition-all duration-200 focus:ring-2 focus:ring-primary/20"}),e.jsx(n,{message:o.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone Number"}),e.jsx(c,{id:"phone",type:"tel",value:a.phone||"",onChange:r=>i("phone",r.target.value),autoComplete:"tel",placeholder:"Enter your phone number",className:"transition-all duration-200 focus:ring-2 focus:ring-primary/20"}),e.jsx(n,{message:o.phone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"location",className:"text-sm font-medium",children:"Location"}),e.jsx(c,{id:"location",value:a.location||"",onChange:r=>i("location",r.target.value),placeholder:"City, Country",className:"transition-all duration-200 focus:ring-2 focus:ring-primary/20"}),e.jsx(n,{message:o.location})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(l,{htmlFor:"website",className:"text-sm font-medium",children:"Website"}),e.jsx(c,{id:"website",type:"url",value:a.website||"",onChange:r=>i("website",r.target.value),placeholder:"https://your-website.com",className:"transition-all duration-200 focus:ring-2 focus:ring-primary/20"}),e.jsx(n,{message:o.website})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"bio",className:"text-sm font-medium",children:"Bio"}),e.jsx(W,{id:"bio",value:a.bio||"",onChange:r=>i("bio",r.target.value),placeholder:"Tell us about yourself...",rows:4,className:"transition-all duration-200 focus:ring-2 focus:ring-primary/20 resize-none"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(a.bio||"").length,"/500 characters"]}),e.jsx(n,{message:o.bio})]}),u&&s.user.email_verified_at===null&&e.jsx(g.div,{className:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-700 rounded-lg",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Z,{className:"h-5 w-5 text-amber-600 dark:text-amber-400 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:["Your email address is unverified."," ",e.jsx(L,{href:route("verification.send"),method:"post",as:"button",className:"font-medium underline hover:no-underline",children:"Click here to resend the verification email."})]}),j==="verification-link-sent"&&e.jsxs(g.div,{className:"mt-2 flex items-center gap-2 text-green-600 dark:text-green-400",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"A new verification link has been sent to your email address."})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[e.jsxs(p,{disabled:h,className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),h?"Saving...":"Save Changes"]}),e.jsx(ae,{as:d.Fragment,show:f,enter:"transition ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsxs(g.div,{className:"flex items-center gap-2 text-green-600 dark:text-green-400",initial:{scale:.9},animate:{scale:1},transition:{duration:.2},children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Profile updated successfully!"})]})})]})]})]}),e.jsxs(D,{className:"p-6",children:[e.jsx(C,{className:"px-0 pb-4",children:e.jsx(k,{className:"text-lg",children:"Account Information"})}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:"Email Status"})]}),e.jsx($,{variant:s.user.email_verified_at?"default":"secondary",children:s.user.email_verified_at?"Verified":"Unverified"})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:"Member Since"})]}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.user.created_at?new Date(s.user.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown"})]})]})]}),e.jsx(te,{})]})})]})}export{Je as default};
